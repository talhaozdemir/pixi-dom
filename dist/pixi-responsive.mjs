/*!
 * pixi-responsive - v1.0.5
 * Compiled Wed, 18 Dec 2024 21:08:38 UTC
 *
 * pixi-responsive is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 * 
 * Copyright 2024, Talha Ã–zdemir, All Rights Reserved
 */import*as D from"pixi.js";import{Point as w,Container as _}from"pixi.js";var E=Object.defineProperty,H=(a,e,t)=>e in a?E(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,v=(a,e,t)=>H(a,typeof e!="symbol"?e+"":e,t);class W extends D.Container{constructor(e){super(),v(this,"rootDiv"),v(this,"htmlElements",[]),v(this,"_htmlContent"),v(this,"_cssContent"),v(this,"_styleTag"),v(this,"_debug",{enabled:!1,color1:9615313,color2:2983620}),this._debug=e.debug,this._htmlContent=e.html.replace(/\n/g,"").replace(/\s{2,}/g,""),this._cssContent=e.css.replace(/\n/g,"").replace(/\s{2,}/g,""),this.initializeRootDiv(),this.injectCss(),this.appendRootToBody(),this.collectHtmlElements(this.rootDiv),this.renderDom()}initializeRootDiv(){this.rootDiv=document.createElement("div"),this.rootDiv.style.pointerEvents="none",this.rootDiv.style.position="absolute",this.rootDiv.style.top="0",this.rootDiv.style.left="0",this.rootDiv.style.width="100%",this.rootDiv.style.height="100%",this.rootDiv.innerHTML=this._htmlContent}injectCss(){this._styleTag=document.createElement("style"),this._styleTag.textContent=this._cssContent,document.head.appendChild(this._styleTag)}appendRootToBody(){document.body.appendChild(this.rootDiv)}renderDom(){var e,t,i,h;let n=[],r=null;(e=this._debug)!=null&&e.enabled&&(r=new D.Graphics,r.label="debugGraphics",this.addChildAt(r,0)),this.resize=()=>{var c;(c=this._debug)!=null&&c.enabled&&r.clear()},(t=this._debug)!=null&&t.enabled&&(n=R(this.htmlElements.length,(i=this._debug)==null?void 0:i.color1,(h=this._debug)==null?void 0:h.color2)),this.htmlElements.forEach((c,g)=>{const o=new D.Container;this.addChild(o),o.label=c.id||c.className||`Element_${g}`,o.resize=()=>{var u;const l=c.getBoundingClientRect();o.baseWidth=l.width,o.baseHeight=l.height,o.position.set(l.x,l.y),(u=this._debug)!=null&&u.enabled&&(r.rect(l.x,l.y,l.width,l.height),r.fill({color:n[g]}))},o.resize()})}collectHtmlElements(e){for(let t=0;t<e.children.length;t++){const i=e.children[t];i.tagName==="DIV"&&(this.htmlElements.push(i),this.collectHtmlElements(i))}}destroy(...e){super.destroy(...e),this.rootDiv.parentElement&&this.rootDiv.parentElement.removeChild(this.rootDiv),this._styleTag.parentElement&&this._styleTag.parentElement.removeChild(this._styleTag)}}function R(a,e,t){const i=[],h=e>>16&255,n=e>>8&255,r=e&255,c=t>>16&255,g=t>>8&255,o=t&255;for(let u=0;u<a;u++){const l=u/(a-1),p=Math.round(h+l*(c-h)),b=Math.round(n+l*(g-n)),s=Math.round(r+l*(o-r)),m=p<<16|b<<8|s;i.push(m)}return i}var T=Object.defineProperty,M=(a,e,t)=>e in a?T(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,C=(a,e,t)=>M(a,typeof e!="symbol"?e+"":e,t);class j{constructor(e,t){C(this,"renderer"),C(this,"stage"),this.renderer=e,this.stage=t,window.addEventListener("resize",this.resize.bind(this)),this.resize()}resize(){const e=window.innerWidth,t=window.innerHeight;this.renderer.resize(e,t),this.stage.baseWidth=e,this.stage.baseHeight=t,this.getAllChildren(this.stage).forEach(i=>{const h=i.parent;h&&(i.resize||(i.resize=()=>this.applyResizeData(i)),i.resize(h.baseWidth,h.baseHeight))})}applyResizeData(e){this.scaleChildWithResizeData(e),this.locateChildWithResizeData(e)}scaleChildWithResizeData(e){var t,i,h;const n=window.innerWidth>window.innerHeight&&(t=e.resizeData)!=null&&t.landscape?(i=e.resizeData)==null?void 0:i.landscape:(h=e.resizeData)==null?void 0:h.portrait;if(!(n!=null&&n.scale))return;const r=e.parent;if(n.scale.type==="absolute")e.scale.set(n.scale.x,n.scale.y);else{const c=r.baseWidth,g=r.baseHeight,o=c*n.scale.x/e.baseWidth,u=g*n.scale.y/e.baseHeight;let l,p;n.scale.fit==="min"?l=p=Math.min(o,u):n.scale.fit==="max"?l=p=Math.max(o,u):(l=o,p=u),e.scale.set(l,p)}}locateChildWithResizeData(e){var t,i,h,n,r,c,g,o,u,l,p,b;const s=window.innerWidth>window.innerHeight&&(t=e.resizeData)!=null&&t.landscape?(i=e.resizeData)==null?void 0:i.landscape:(h=e.resizeData)==null?void 0:h.portrait,m=e.parent,d=new w,y=m.baseWidth,f=m.baseHeight,z=e.baseWidth*e.scale.x,x=e.baseHeight*e.scale.y;s!=null&&s.align&&(((n=s.align)==null?void 0:n.x)==="left"?d.x=0:((r=s.align)==null?void 0:r.x)==="center"?d.x=y*.5:((c=s.align)==null?void 0:c.x)==="right"&&(d.x=y),((g=s.align)==null?void 0:g.y)==="top"?d.y=0:((o=s.align)==null?void 0:o.y)==="center"?d.y=f*.5:((u=s.align)==null?void 0:u.y)==="bottom"&&(d.y=f)),s!=null&&s.offset&&(((l=s.offset)==null?void 0:l.unit)==="px"?(d.x+=s.offset.x,d.y+=s.offset.y):((p=s.offset)==null?void 0:p.unit)==="pct"?(d.x+=y*s.offset.x,d.y+=f*s.offset.y):((b=s.offset)==null?void 0:b.unit)==="self"&&(d.x+=z*s.offset.x,d.y+=x*s.offset.y)),e.position.set(d.x,d.y)}getAllChildren(e){let t=[];return e.children.forEach(i=>{t.push(i),i instanceof _&&(t=t.concat(this.getAllChildren(i)))}),t}}export{W as HTMLContainer,j as Responsive};
//# sourceMappingURL=pixi-responsive.mjs.map
